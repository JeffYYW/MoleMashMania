<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Early Testing</title>

</head>
<body>
    <style>
        
        .topSquare {
            height: 100px;
            width: 100px;
            background-color: gray;
        }

        .container {
            display: flex;
            position: relative;
            top: 200px;
            left: 20%;
            width: 800px;
            height: 400px;
            border: 2px solid dodgerblue;

        }

        .myDiv {
            width: 100px;
            height: 100px;
            background-color: coral;
            transition: .1s linear;
            border: 2px solid dodgerblue;
        }

    </style>
    <div class="topSquare">

    </div>

    <div class="container">
        <div class="myDiv"></div>
        <div class="myDiv"></div>
        <div class="myDiv"></div>
        <div class="myDiv"></div>
        <div class="myDiv"></div>
        <div class="myDiv"></div>
    </div>

    <script> 

    const topDiv = document.getElementsByClassName('topSquare')[0];

    const blockObj = [
        { active: false },
        { active: false },
        { active: false },
        { active: false },
        { active: false },
        { active: false },
    ]

    const block = document.getElementsByClassName('myDiv');

    function addClickListener(i) {
        block[i].addEventListener("click", function() {
            if (blockObj[i].active === true) {
                topDiv.style.backgroundColor = 'green';
            } else {
                topDiv.style.backgroundColor = 'red';
            }
        });
    }


    //listen for a click on the 'block' div and change color if active = true, and change to another if active = false 
  

    function random(min, max) {
        var num = Math.floor(Math.random() * (max - min)) + min;
        return num;
    }

    
    // create function that will iterate through the block array
    // iterate through the block array
    // for each div, call the grow() function on it
        // grow() will translateY this div
        // update active property to true
        // call shrink() after a random setTimeout   
    // shrink() will translateY this div back to its original value
    // update active property to false
    // setInterval for the first function
    function lower(i) {
        block[i].style.transform = "translateY(0px)";
        blockObj[i].active = false;
        console.log(blockObj[i]);
    }

    function raise(i) {
        addClickListener(i);
        block[i].style.transform = "translateY(-200px)";
        blockObj[i].active = true;
        // add: if clicked, call lower(), else setTimeout?
        console.log(blockObj[i]);
        setTimeout(lower, random(1000, 2000), i);
    }

    // https://stackoverflow.com/questions/3583724/how-do-i-add-a-delay-in-a-javascript-loop
    let i = 0;

    function init() {
        setTimeout(function() {             // set timeout to pause time between blocks being raised
            raise(i);                         
            i++;
            if (i < block.length) {         // loop through all blocks and call raise() on each one
                init();
            } else {                        // once the block array reaches the end, counter is reset to 0 and init() function is called again to 
                i = 0;                          // 'restart' the loop
                init();
            }
        }, random(2000, 4000))
    }     
    
    // setInterval(init, 3000);
    
    

    </script>

    <!-- stretch -->
<!-- randomize array -->
<!-- make an array holding specific interval values? [1500, 2000, 3000, 4000] -->
</body>
</html>


